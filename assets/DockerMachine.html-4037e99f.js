import{_ as t,r as s,o as d,c,a as e,b as r,d as a,e as n}from"./app-f078eaf8.js";const o={},l=n(`<h1 id="docker-machine" tabindex="-1"><a class="header-anchor" href="#docker-machine" aria-hidden="true">#</a> Docker Machine</h1><h3 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h3><p>Docker Machine 是一种可以让您在虚拟主机上安装 Docker 的工具，并可以使用 docker-machine 命令来管理主机。</p><p>Docker Machine 也可以集中管理所有的 docker 主机，比如快速的给 100 台服务器安装上 docker。</p><p><img src="https://picgo.xingenhi.cn//typora68747470733a2f2f646f63732e646f636b65722e636f6d2f6d616368696e652f696d672f6c6f676f2e706e67.png" alt="img"></p><p>Docker Machine 管理的虚拟主机可以是机上的，也可以是云供应商，如阿里云，腾讯云，AWS，或 DigitalOcean。</p><p>使用 docker-machine 命令，您可以启动，检查，停止和重新启动托管主机，也可以升级 Docker 客户端和守护程序，以及配置 Docker 客户端与您的主机进行通信。</p><p><img src="https://picgo.xingenhi.cn//typoramachine.png" alt="img"></p><hr><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><p>安装 Docker Machine 之前你需要先安装 Docker。</p><p>Docker Machine 可以在多种平台上安装使用，包括 Linux 、MacOS 以及 windows。</p><h3 id="linux-安装命令" tabindex="-1"><a class="header-anchor" href="#linux-安装命令" aria-hidden="true">#</a> Linux 安装命令</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ base=https://github.com/docker/machine/releases/download/v0.16.0 &amp;&amp;
  curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/tmp/docker-machine &amp;&amp;
  sudo mv /tmp/docker-machine /usr/local/bin/docker-machine &amp;&amp;
  chmod +x /usr/local/bin/docker-machine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="macos-安装命令" tabindex="-1"><a class="header-anchor" href="#macos-安装命令" aria-hidden="true">#</a> macOS 安装命令</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ base=https://github.com/docker/machine/releases/download/v0.16.0 &amp;&amp;
  curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/usr/local/bin/docker-machine &amp;&amp;
  chmod +x /usr/local/bin/docker-machine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="windows-安装命令" tabindex="-1"><a class="header-anchor" href="#windows-安装命令" aria-hidden="true">#</a> Windows 安装命令</h3>`,17),h={href:"https://git-for-windows.github.io/",target:"_blank",rel:"noopener noreferrer"},p=n(`<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ base=https://github.com/docker/machine/releases/download/v0.16.0 &amp;&amp;
  mkdir -p &quot;$HOME/bin&quot; &amp;&amp;
  curl -L $base/docker-machine-Windows-x86_64.exe &gt; &quot;$HOME/bin/docker-machine.exe&quot; &amp;&amp;
  chmod +x &quot;$HOME/bin/docker-machine.exe&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看是否安装成功：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker-machine version
docker-machine version 0.16.0, build 9371605
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h2><p>本章通过 virtualbox 来介绍 docker-machine 的使用方法。其他云服务商操作与此基本一致。具体可以参考每家服务商的指导文档。</p><h3 id="_1、列出可用的机器" tabindex="-1"><a class="header-anchor" href="#_1、列出可用的机器" aria-hidden="true">#</a> 1、列出可用的机器</h3><p>可以看到目前只有这里默认的 default 虚拟机。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker-machine ls
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,9),m={href:"https://www.runoob.com/wp-content/uploads/2019/11/docker-machine1.png",target:"_blank",rel:"noopener noreferrer"},u=e("img",{src:"https://picgo.xingenhi.cn//typoradocker-machine1.png",alt:"img"},null,-1),g=n(`<h3 id="_2、创建机器" tabindex="-1"><a class="header-anchor" href="#_2、创建机器" aria-hidden="true">#</a> 2、创建机器</h3><p>创建一台名为 test 的机器。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker-machine create --driver generic --generic-ip-address=192.168.42.101 swarm-manager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker-machine create --driver virtualbox test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong>--driver</strong>：指定用来创建机器的驱动类型，这里是 virtualbox。</li></ul>`,5),v={href:"https://www.runoob.com/wp-content/uploads/2019/11/docker-machine2.png",target:"_blank",rel:"noopener noreferrer"},b=e("img",{src:"https://picgo.xingenhi.cn//typoradocker-machine2.png",alt:"img"},null,-1),x=n(`<h3 id="_3、查看机器的-ip" tabindex="-1"><a class="header-anchor" href="#_3、查看机器的-ip" aria-hidden="true">#</a> 3、查看机器的 ip</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker-machine ip test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),k={href:"https://www.runoob.com/wp-content/uploads/2019/11/docker-machine3.png",target:"_blank",rel:"noopener noreferrer"},_=e("img",{src:"https://picgo.xingenhi.cn//typoradocker-machine3.png",alt:"img"},null,-1),f=n(`<h3 id="_4、停止机器" tabindex="-1"><a class="header-anchor" href="#_4、停止机器" aria-hidden="true">#</a> 4、停止机器</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker-machine stop test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),w={href:"https://www.runoob.com/wp-content/uploads/2019/11/docker-machine4.png",target:"_blank",rel:"noopener noreferrer"},D=e("img",{src:"https://picgo.xingenhi.cn//typoradocker-machine4.png",alt:"img"},null,-1),$=n(`<h3 id="_5、启动机器" tabindex="-1"><a class="header-anchor" href="#_5、启动机器" aria-hidden="true">#</a> 5、启动机器</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker-machine start test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),S={href:"https://www.runoob.com/wp-content/uploads/2019/11/docker-machine5.png",target:"_blank",rel:"noopener noreferrer"},M=e("img",{src:"https://picgo.xingenhi.cn//typoradocker-machine5.png",alt:"img"},null,-1),E=n(`<h3 id="_6、进入机器" tabindex="-1"><a class="header-anchor" href="#_6、进入机器" aria-hidden="true">#</a> 6、进入机器</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker-machine ssh test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),L={href:"https://www.runoob.com/wp-content/uploads/2019/11/docker-machine6.png",target:"_blank",rel:"noopener noreferrer"},y=e("img",{src:"https://picgo.xingenhi.cn//typoradocker-machine6.png",alt:"img"},null,-1),O=n(`<h3 id="docker-machine-命令参数说明" tabindex="-1"><a class="header-anchor" href="#docker-machine-命令参数说明" aria-hidden="true">#</a> docker-machine 命令参数说明</h3><ul><li><p><strong>docker-machine active</strong>：查看当前激活状态的 Docker 主机。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker-machine ls

NAME      ACTIVE   DRIVER         STATE     URL
dev       -        virtualbox     Running   tcp://192.168.99.103:2376
staging   *        digitalocean   Running   tcp://203.0.113.81:2376

$ echo $DOCKER_HOST
tcp://203.0.113.81:2376

$ docker-machine active
staging
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>config</strong>：查看当前激活状态 Docker 主机的连接信息。</p></li><li><p><strong>create</strong>：创建 Docker 主机</p></li><li><p><strong>env</strong>：显示连接到某个主机需要的环境变量</p></li><li><p><strong>inspect</strong>： 以 json 格式输出指定Docker的详细信息</p></li><li><p><strong>ip</strong>： 获取指定 Docker 主机的地址</p></li><li><p><strong>kill</strong>： 直接杀死指定的 Docker 主机</p></li><li><p><strong>ls</strong>： 列出所有的管理主机</p></li><li><p><strong>provision</strong>： 重新配置指定主机</p></li><li><p><strong>regenerate-certs</strong>： 为某个主机重新生成 TLS 信息</p></li><li><p><strong>restart</strong>： 重启指定的主机</p></li><li><p><strong>rm</strong>： 删除某台 Docker 主机，对应的虚拟机也会被删除</p></li><li><p><strong>ssh</strong>： 通过 SSH 连接到主机上，执行命令</p></li><li><p><strong>scp</strong>： 在 Docker 主机之间以及 Docker 主机和本地主机之间通过 scp 远程复制数据</p></li><li><p><strong>mount</strong>： 使用 SSHFS 从计算机装载或卸载目录</p></li><li><p><strong>start</strong>： 启动一个指定的 Docker 主机，如果对象是个虚拟机，该虚拟机将被启动</p></li><li><p><strong>status</strong>： 获取指定 Docker 主机的状态(包括：Running、Paused、Saved、Stopped、Stopping、Starting、Error)等</p></li><li><p><strong>stop</strong>： 停止一个指定的 Docker 主机</p></li><li><p><strong>upgrade</strong>： 将一个指定主机的 Docker 版本更新为最新</p></li><li><p><strong>url</strong>： 获取指定 Docker 主机的监听 URL</p></li><li><p><strong>version</strong>： 显示 Docker Machine 的版本或者主机 Docker 版本</p></li><li><p><strong>help</strong>： 显示帮助信息</p></li></ul>`,2);function R(H,q){const i=s("ExternalLinkIcon");return d(),c("div",null,[l,e("p",null,[r("如果你是 Windows 平台，可以使用 "),e("a",h,[r("Git BASH"),a(i)]),r("，并输入以下命令：")]),p,e("p",null,[e("a",m,[u,a(i)])]),g,e("p",null,[e("a",v,[b,a(i)])]),x,e("p",null,[e("a",k,[_,a(i)])]),f,e("p",null,[e("a",w,[D,a(i)])]),$,e("p",null,[e("a",S,[M,a(i)])]),E,e("p",null,[e("a",L,[y,a(i)])]),O])}const V=t(o,[["render",R],["__file","DockerMachine.html.vue"]]);export{V as default};
